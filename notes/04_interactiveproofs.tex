\section{Interactive Proofs}

We have talked before about $\NP$ and how we needed to provide a ``certificate" to prove that it truly is in the language (or is not, given a bad certificate). But what if we have a verifier and a prover that interact with each other? We can actually have more power for some canonical problems. This is called an ``interactive proof."

\begin{example}
Let's observe an interactive proof for $\phi \in \ThreeSAT$. For each clause in $\phi$, one at a time, have the prover give the values of the literals in the clause to the verifier, and have the verifier keep the answers until the end. At any point, if the prover gives conflicting values for the literals, reject. Otherwise, have the verifier check with the given values if all clauses are satisfied.
\end{example}

Now the last example works over each clause, so there are $n$ ``rounds" of interaction between the prover and verifier. Now we make this explicit:

\newcommand{\out}[2]{\texttt{out}$_{#1}\langle {#1}, {#2} \rangle(x)$}
\begin{definition}
A \emph{k-round} interaction of two functions $f, g$, with $k$ a non-negative integer (not necessarily independent of $f$ and $g$) is a sequence of strings $\{a_i\}_{i \ge 1}$:
\begin{itemize}
\item $a_1 = f(x)$
\item $a_2 = g(x, a_1)$
\item $\cdots$
\item $a_{2m+1} = f(x, a_1, \cdots, a_{2m})$, if $2m < k$
\item $a_{2m+2} = g(x, a_1, \cdots, a_{2m+1})$, if $2m+1 < k$.
\end{itemize}
We define the \emph{output} of $f$ (or $g$) to be $f(x, a_1, \cdots, a_k)$ at the end of the interaction (a common notation of this is \out{f}{g}). 
\end{definition}

Now we know what an interaction is, we need to know what a ``proof system" is:

\newcommand{\dIP}{\lang{dIP}}
\begin{definition}
$L$ is a \emph{k-round deterministic interactive proof system} if there is a $\poly(|x|)$-time TM $V$ that on input $x, a_1, \cdots, a_i$, has a $k$-round interaction with a function $f$ such that:
\begin{itemize}
\item If $x \in L$, then there is a function $f$ such that \out{V}{f} accepts.
\item If $x \notin L$, then for all functions $f$ \out{V}{f} rejects.
\end{itemize} 
Define $\dIP$ to be the set of languages with a $\poly(n)$-round deterministic interactive proof system. 
\end{definition}

\begin{theorem}
$\dIP = \NP$.
\end{theorem}

\begin{proof}
$\NP \subseteq \dIP$ because every $\NP$ language has a 1-round DPS. Suppose $L \in \dIP$, and $V$ is the verifier. Then, a certificate that $x \in L$ is a set of strings $\{a_i\}_{1 \le i \le k}$ that has $V$ accept. For verification, the verifier needs to check if $V(x) = a_1, V(x, a_1, a_2) = a_3$, and so on and that $V(x, a_1, \cdots, a_k)$ accepts. However, if the set of strings exists, then we can use a prover function $P$ such that $P(x, a_1) = a_2, P(x, a_1, a_2, a_3) = a_4$, and so on. This shows that \out{V}{P} accepts, meaning that $x \in L$. 
\end{proof}

\subsection{\IP}
So far we have talked about deterministic verifiers - what about probabilistic ones? We will introduce a class called $\IP$ which is very similar to $\BPP$:

\begin{definition}
We have $L \in \IP[k]$ for an integer $k \ge 1$ if there is a probabilistic poly-time TM $T$ with a $k$-round interaction such that:
\begin{itemize}
\item If $x \in L$, there exists a function $f$ such that $\Pr[$\out{T}{f} accepts$] \ge \frac{2}{3}$.
\item If $x \notin L$, for all functions $f$, $\Pr[$\out{T}{f} accepts$] \le \frac{1}{3}$
\end{itemize}
Define $\IP = \bigcup_{c \ge 1}\IP[n^c]$.
\end{definition}
As we have done with $\BPP$, we can success amplify to change the $\frac{2}{3}$ parameter to be exponentially close to 1, as well as $\frac{1}{3}$ to be exponentially close to 0. 

\par Let's work on an example: graph non-isomorphism. 
\begin{example}
We are given 2 graphs $G_1, G_2$. The verifier randomly and uniformly picks either of the graphs (say it is $G_i$), and permutes that graph's vertices. The permuted graph is sent to the prover. The prover identifies which of $G_1, G_2$ was sent. The number that the prover chooses is sent back to the verifier (say $j$). The verifier then accepts if $i = j$, and rejects if not.

\par If the graphs are not isomorphic, then there is a prover that has $\Pr[\text{verifier accepts}] = 1$ - the reason is that if a prover was all-powerful, it can tell which one of the graphs is isomorphic to the one sent. If the graphs are isomorphic, then the prover can only guess because any permutation of one graph is the same as that of the other graph. Therefore, $\Pr[\text{verifier accepts}] \le \frac{1}{2}$.
\end{example}

\subsection*{$\AM, \MA$}
Now we go to a motivating example for cryptography - how do we share items over the public internet without an attacker knowing? We use a similar example in complexity theory, called Arthur-Merlin protocols:

\begin{definition}
Define $\AM[k] \subseteq \IP[k]$ to be the class where we restrict the verifier's messages to be random bits, and the verifier must use these random bits (i.e., not part of the message). We have $\AM = \AM[2]$, which has the verifier send the first message (random string), the prover responds, and the verifier decides by applying a poly-time function to the entire transcript. Have $\MA$ be the same as $\AM$, but the prover sends the first message, the verifier computes a decision based off random coins and the transcript given by the prover.
\end{definition}